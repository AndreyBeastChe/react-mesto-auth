{"ast":null,"code":"import _classCallCheck from\"/Users/a-chechetkin/Documents/yandex_paktikum/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/a-chechetkin/Documents/yandex_paktikum/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._url=options.url;this._headers=options.headers;this._groupId=\"cohort-33\";}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){return res.ok?res.json():Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getUser\",value:function getUser(){return fetch(\"\".concat(this._url,\"/\").concat(this._groupId,\"/users/me\"),{headers:this._headers}).then(this._checkResponse);}},{key:\"setUser\",value:function setUser(_ref){var name=_ref.name,about=_ref.about;return fetch(\"\".concat(this._url,\"/\").concat(this._groupId,\"/users/me\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(this._checkResponse);}},{key:\"gerCards\",value:function gerCards(){return fetch(\"\".concat(this._url,\"/\").concat(this._groupId,\"/cards\"),{headers:this._headers}).then(this._checkResponse);}},{key:\"addCard\",value:function addCard(_ref2){var name=_ref2.name,link=_ref2.link;return fetch(\"\".concat(this._url,\"/\").concat(this._groupId,\"/cards\"),{method:\"POST\",headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._checkResponse);}},{key:\"changeAvatar\",value:function changeAvatar(avatar){return fetch(\"\".concat(this._url,\"/\").concat(this._groupId,\"/users/me/avatar\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(this._checkResponse);}},{key:\"likeCard\",value:function likeCard(cardId){return fetch(\"\".concat(this._url,\"/v1/\").concat(this._groupId,\"/cards/\").concat(cardId,\"/likes\"),{method:\"PUT\",headers:this._headers}).then(this._checkResponse);}},{key:\"dislikeCard\",value:function dislikeCard(cardId){return fetch(\"\".concat(this._url,\"/v1/\").concat(this._groupId,\"/cards/\").concat(cardId,\"/likes\"),{method:\"DELETE\",headers:this._headers}).then(this._checkResponse);}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"\".concat(this._url,\"/v1/\").concat(this._groupId,\"/cards/\").concat(cardId),{method:\"DELETE\",headers:this._headers}).then(this._checkResponse);}}]);return Api;}();var api=new Api({url:\"https://mesto.nomoreparties.co\",headers:{authorization:\"3671189f-65d1-4347-8209-095bdf48fd3f\",\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"sources":["/Users/a-chechetkin/Documents/yandex_paktikum/mesto-react/src/utils/api.js"],"names":["Api","options","_url","url","_headers","headers","_groupId","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","name","about","method","body","JSON","stringify","link","avatar","cardId","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n    constructor(options) {\n      this._url = options.url;\n      this._headers = options.headers;\n      this._groupId = \"cohort-33\";\n    }\n  \n    _checkResponse(res) {\n      return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n    }\n  \n    getUser() {\n      return fetch(`${this._url}/${this._groupId}/users/me`, {\n        headers: this._headers,\n      }).then(this._checkResponse);\n    }\n  \n    setUser({ name, about }) {\n      return fetch(`${this._url}/${this._groupId}/users/me`, {\n        method: \"PATCH\",\n        headers: this._headers,\n        body: JSON.stringify({ name, about }),\n      }).then(this._checkResponse);\n    }\n  \n    gerCards() {\n      return fetch(`${this._url}/${this._groupId}/cards`, {\n        headers: this._headers,\n      }).then(this._checkResponse);\n    }\n  \n    addCard({ name, link }) {\n      return fetch(`${this._url}/${this._groupId}/cards`, {\n        method: \"POST\",\n        headers: this._headers,\n        body: JSON.stringify({ name, link }),\n      }).then(this._checkResponse);\n    }\n  \n    changeAvatar(avatar) {\n      return fetch(`${this._url}/${this._groupId}/users/me/avatar`, {\n        method: \"PATCH\",\n        headers: this._headers,\n        body: JSON.stringify({ avatar }),\n      }).then(this._checkResponse);\n    }\n  \n    likeCard(cardId) {\n      return fetch(`${this._url}/v1/${this._groupId}/cards/${cardId}/likes`, {\n        method: \"PUT\",\n        headers: this._headers,\n      }).then(this._checkResponse);\n    }\n    dislikeCard(cardId) {\n      return fetch(`${this._url}/v1/${this._groupId}/cards/${cardId}/likes`, {\n        method: \"DELETE\",\n        headers: this._headers,\n      }).then(this._checkResponse);\n    }\n  \n    deleteCard(cardId) {\n      return fetch(`${this._url}/v1/${this._groupId}/cards/${cardId}`, {\n        method: \"DELETE\",\n        headers: this._headers,\n      }).then(this._checkResponse);\n    }\n  }\n  \n   const api = new Api({\n    url: \"https://mesto.nomoreparties.co\",\n    headers: {\n      authorization: \"3671189f-65d1-4347-8209-095bdf48fd3f\",\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  export default api;\n\n  "]},"metadata":{},"sourceType":"module"}